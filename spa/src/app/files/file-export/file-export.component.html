<h1 mat-dialog-title>Export to FireCloud</h1>
<div mat-dialog-content>
    <mat-progress-bar mode="indeterminate" *ngIf="exporting"></mat-progress-bar>
    <p *ngIf="exported">The selected files were exported to the FireCloud <a [href]="firecloudUrl" target="_blank">{{data.workspace}} workspace.</a></p>
    <p *ngIf="errorMessage">There was an error exporting to FireCloud: {{errorMessage}}</p>
    <div *ngIf="!exported && !errorMessage">
        <p>Export the selected facets into a new FireCloud workspace.</p>
        <div class="column-flex">
            <mat-form-field>
                <input matInput [(ngModel)]="data.workspace" placeholder="Workspace name" required autofocus [disabled]="exporting">
            </mat-form-field>
            <mat-form-field>
                <mat-select placeholder="Billing project" [(value)]="data.namespace" [disabled]="exporting" required>
                    <mat-option *ngFor="let namespace of data.namespaces" [value]="namespace">{{namespace}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
    </div>
</div>
<div mat-dialog-actions align="end">
    <button mat-button (click)="onClose()" *ngIf="!exported && !errorMessage">Cancel</button>
    <button mat-button (click)="onExport()" *ngIf="!exported && !errorMessage" [disabled]="exporting || !data.workspace">Export</button>
    <button mat-button (click)="onClose()" *ngIf="exported || errorMessage">Close</button>
</div>
